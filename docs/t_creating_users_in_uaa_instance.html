
<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
<head><meta name="description" content="Procedure to create users locally in UAA for authentication. Log in to predix.io. The authentication flow for authorization grant type such as Authorization Code, Implicit, and Resource Owner Password ..."></meta><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><meta name="copyright" content="(C) Copyright 2005"></meta><meta name="DC.rights.owner" content="(C) Copyright 2005"></meta><meta name="DC.Type" content="task"></meta><meta name="DC.Title" content="Creating Users in a UAA Instance"></meta><meta name="abstract" content="Procedure to create users locally in UAA for authentication."></meta><meta name="description" content="Procedure to create users locally in UAA for authentication."></meta><meta name="DC.Format" content="XHTML"></meta><meta name="DC.Identifier" content="task_lrr_n5w_fs"></meta><meta name="DC.Language" content="en-US"></meta><link rel="stylesheet" type="text/css" href="oxygen-webhelp/resources/css/commonltr.css"><!----></link><title>Creating Users in a UAA Instance</title><!--  Generated with Oxygen version 17.1, build number 2016020417.  --><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><link rel="stylesheet" type="text/css" href="oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><link rel="stylesheet" type="text/css" href="oxygen-webhelp/resources/skins/skin.css"><!----></link><script type="text/javascript"><!--
          
          var prefix = "index.html";
          
          --></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery-1.8.2.min.js"><!----></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery.cookie.js"><!----></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery-ui.custom.min.js"><!----></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery.highlight-3.js"><!----></script><script type="text/javascript" charset="utf-8" src="oxygen-webhelp/resources/js/webhelp_topic.js"><!----></script></head>
<body onload="highlightSearchTerm()" class="frmBody" id="task_lrr_n5w_fs">
<table class="nav"><tbody><tr><td colspan="2"><div id="printlink"><a href="javascript:window.print();" title="Print this page"></a></div><div id="permalink"><a href="#" title="Link to this page"></a></div></td></tr><tr><td width="75%"></td><td><div class="navheader"></div></td></tr></tbody></table>
<h1 class="title topictitle1">Creating Users in a UAA Instance</h1>
<div class="body taskbody"><p class="shortdesc">Procedure to create users locally in UAA for authentication.</p>
<div class="section prereq p">
            <ul class="ul" id="task_lrr_n5w_fs__ul_e9727a98-b308-4d04-bdea-d0b80703b697"><li class="li">Log in to predix.io.</li>
</ul>

        </div>
<div class="section context">
            <p class="p">The authentication flow for authorization grant type such as Authorization Code, Implicit, and Resource Owner Password involves users that provide their username and password credentials to an application. The application uses UAA to authenticate the users using these credentials. For UAA to authenticate the users, the users must first be created in UAA. You can either create users locally within UAA or federate to an external identity provider. </p>

            <div class="p">When you create a UAA instance, an admin client is automatically created for you to be able to configure your UAA instance. The admin client is assigned all the required authorities and scopes by default.<div class="note note"><span class="notetitle">Note:</span> The admin client is not assigned the authority to be able to change the user password by default. If you need the ability to update or change the user password, you must add the <samp class="ph codeph">uaa.admin</samp> authority to your admin client. For more information, see <a class="xref" href="t_updating_the_oauth2_client.html#task_k3h_k2c_1x" title="Procedure for updating the OAuth2 client to add additional authorities or scopes that are specific to each platform service.">Updating the OAuth2 Client</a>.</div>
</div>

            <p class="p">Use the following procedure to create users locally in UAA.</p>

        </div>
<ol class="ol steps" id="task_lrr_n5w_fs__steps_kxh_22x_1x"><li class="li step stepexpand"><span class="ph cmd">In the Console view, select the Space where your services are located.</span></li>
<li class="li step stepexpand"><span class="ph cmd">In the Services Instances page, select the UAA instance that you need to configure.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Select the <span class="ph uicontrol">Configure Service Instance</span> option.</span></li>
<li class="li step stepexpand"><span class="ph cmd">In UAA Dashboard, select the <span class="ph uicontrol">User Management</span> tab.</span><div class="itemgroup info">The User Management tab has two sections, <span class="ph uicontrol">Users</span> and <span class="ph uicontrol">Groups</span>. The <span class="ph uicontrol">Groups</span> section displays the groups that you have created in your UAA instance.</div></li>
<li class="li step stepexpand"><span class="ph cmd">Click on the <span class="ph uicontrol">Add User</span> button to open the <span class="ph uicontrol">New User</span> form.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Specify the following values in the <span class="ph uicontrol">New User</span> form:</span><div class="itemgroup info">
                    
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="task_lrr_n5w_fs__table_ehl_3rb_1x" class="table" frame="border" border="1" rules="all"><thead class="thead" align="left"><tr class="row"><th class="entry" valign="top" width="27.70083102493075%" id="d25674e93">Field</th>
<th class="entry" valign="top" width="72.29916897506925%" id="d25674e95">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" width="27.70083102493075%" headers="d25674e93 "><span class="ph uicontrol">User Name</span></td>
<td class="entry" valign="top" width="72.29916897506925%" headers="d25674e95 ">Specify the user name.</td>
</tr>
<tr class="row"><td class="entry" valign="top" width="27.70083102493075%" headers="d25674e93 "><span class="ph uicontrol">Email</span></td>
<td class="entry" valign="top" width="72.29916897506925%" headers="d25674e95 ">Specify the email address.</td>
</tr>
<tr class="row"><td class="entry" valign="top" width="27.70083102493075%" headers="d25674e93 "><span class="ph uicontrol">Password</span></td>
<td class="entry" valign="top" width="72.29916897506925%" headers="d25674e95 ">Specify the password.</td>
</tr>
<tr class="row"><td class="entry" valign="top" width="27.70083102493075%" headers="d25674e93 "><span class="ph uicontrol">Given Name</span></td>
<td class="entry" valign="top" width="72.29916897506925%" headers="d25674e95 ">Specify the first name of the user.</td>
</tr>
<tr class="row"><td class="entry" valign="top" width="27.70083102493075%" headers="d25674e93 "><span class="ph uicontrol">Family Name</span></td>
<td class="entry" valign="top" width="72.29916897506925%" headers="d25674e95 ">Specify the last name of the user.</td>
</tr>
<tr class="row"><td class="entry" valign="top" width="27.70083102493075%" headers="d25674e93 "><span class="ph uicontrol">Groups</span></td>
<td class="entry" valign="top" width="72.29916897506925%" headers="d25674e95 ">Select the groups to associate the user with.</td>
</tr>
</tbody>
</table>
</div>

                </div></li>
</ol>
</div>
<div class="topic task nested1" id="task_uzr_xdx_1x"><h2 class="title topictitle2">Creating Users in a UAA Instance Using UAAC</h2>
<div class="body taskbody"><p class="shortdesc">Optional procedure for creating users in a UAA instance using UAAC instead of graphical user interaface.</p>
<div class="section context">
                <p class="p">For applications accessing your UAA instance, you can create additional clients and users with required scopes.</p>

                <p class="p">You can use the UAA command-line interface (UAAC), to create users and manage their scopes. For more information on installing the command-line interface, see <a class="xref" href="https://github.com/cloudfoundry/cf-uaac" target="_blank">https://github.com/cloudfoundry/cf-uaac</a>.</p>

            </div>
<ol class="ol steps" id="task_uzr_xdx_1x__steps_dln_c2x_1x"><li class="li step stepexpand"><span class="ph cmd">Create a new user.</span><div class="itemgroup info">
                        <pre class="pre codeblock">uaac user add &lt;my-user&gt; --emails &lt;my_user&gt;-user@ge.com --password &lt;my_password&gt;
  </pre>

                    </div></li>
<li class="li step stepexpand"><span class="ph cmd">Create the groups in your UAA instance.</span><div class="itemgroup info">
                        <p class="p">For more information on available groups, see <a class="xref" href="https://github.com/cloudfoundry/uaa/blob/master/docs/UAA-APIs.rst#scopes-authorized-by-the-uaa" target="_blank">https://github.com/cloudfoundry/uaa/blob/master/docs/UAA-APIs.rst#scopes-authorized-by-the-uaa</a>.</p>

                        <p class="p">For example:</p>

                        <pre class="pre codeblock">uaac group add scim.read
uaac group add scim.write</pre>

                    </div></li>
<li class="li step stepexpand"><span class="ph cmd">Add the new user to the required groups.</span><div class="itemgroup info">
                        <p class="p">For example:</p>

                        <pre class="pre codeblock">uaac member add zones.&lt;my_uaa_instance&gt;.admin &lt;my-user&gt;
uaac member add scim.read &lt;my-user&gt;
uaac member add scim.write &lt;my-user&gt;
uaac member add clients.write &lt;my-user&gt;
uaac member add clients.read &lt;my-user&gt;
uaac member add clients.admin &lt;my-user&gt;
uaac member add clients.secret &lt;my-user&gt;</pre>

                    </div></li>
<li class="li step stepexpand"><span class="ph cmd">Verify that the user is created with the correct scope.</span><div class="itemgroup info">
                        <pre class="pre codeblock">uaac token owner get &lt;my-oauth-client&gt; &lt;my-user&gt;
uaac token decode</pre>

                    </div></li>
</ol>
</div>
</div>
<div class="navfooter"><!----></div><div class="footer"><a class="oxyFooter" href="" target="_blank"><span class="oXygenLogo"><img src="oxygen-webhelp/resources/img/GELogo1.jpg" height="36px" alt="General Electric"></img></span><span class="xmlauthor"> © 2015-2016 General Electric Company. All rights reserved.</span></a></div>
</body>
</html>